---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE } from '../consts';

const projects = [
	{
		client: "Orange",
		roles: ["Senior Technical Architect"],
		period: "09.2025 – 10.2025",
		description: "Designed hybrid cloud architecture spanning public, private, and sovereign cloud using Microsoft CAF. Developed migration strategies for tenant-to-tenant, on-premise, and containerization scenarios. Delivered scalable solution design focused on security and automation.",
		technologies: ["Azure", "CAF", "Hybrid Cloud", "Container Migration", "Identity"],
		type: "enterprise"
	},
	{
		client: "Bane NOR",
		roles: ["Infrastructure Engineer", "Delivery Manager"],
		period: "02.2024 – 06.2025",
		description: "Delivered cloud infrastructure for Norway's national railway agency (~4,500 employees). As Infrastructure Engineer, designed secure Azure solutions enabling hybrid connectivity. As Delivery Manager, coordinated teams through subscription migration, establishing governed landing zones with standardized security policies.",
		technologies: ["Azure", "Entra ID", "Active Directory", "Terraform", "Azure DevOps", "Azure Automation", "Azure Storage", "Azure Networking", "GitLab"],
		type: "government"
	},
	{
		client: "Statkraft",
		roles: ["DevOps Engineer"],
		period: "10.2023 – 01.2024",
		description: "Owned CI/CD pipeline development for an enterprise data platform. Built infrastructure using Terraform and Azure DevOps, established reusable templates for data products, and automated access control. Led code reviews and knowledge transfer.",
		technologies: ["Terraform", "Azure DevOps", "Azure CLI", "Data Factory", "PaaS", "IaaS"],
		type: "enterprise"
	},
	{
		client: "Santander Consumer Bank",
		roles: ["Platform Engineer"],
		period: "10.2022 – 09.2023",
		description: "Designed and developed reusable Terraform modules for a cross-functional platform team. Drove infrastructure optimization and introduced documentation and governance standards, enabling faster and more consistent deployments.",
		technologies: ["Terraform", "Azure DevOps", "Azure AD", "CI/CD", "Azure Networking"],
		type: "finance"
	},
	{
		client: "Brønnøysundregistrene",
		roles: ["Tech Lead"],
		period: "09.2021 – 06.2022",
		description: "Tech Lead for Altinn 2.0 infrastructure, Norway's national digital public services platform. Led a team handling both operations and development. Drove technical decisions and stakeholder alignment while implementing DevOps practices across hybrid infrastructure.",
		technologies: ["Azure", "Azure CAF", "Terraform", "Azure DevOps", "Well Architected Framework"],
		type: "government"
	},
	{
		client: "Norsk Helsenett",
		roles: ["DevOps Engineer"],
		period: "05.2021 – 08.2021",
		description: "Developed Terraform code for Helseanalyseplattformen (HAP), a national health data platform. Delivered secure Azure infrastructure with strict GDPR compliance. Optimized cost and performance through IaC refactoring.",
		technologies: ["Terraform", "Azure DevOps", "GitHub", "Key Vault", "Azure Service Bus"],
		type: "healthcare"
	},
	{
		client: "Ironstone",
		roles: ["Cloud Administrator"],
		period: "04.2020 – 11.2020",
		description: "Azure platform operations and 3rd line support. Contributed to process development and customer solution improvements. Participated in Microsoft partnership campaigns during pre-sale phase.",
		technologies: ["Azure", "Microsoft 365", "PowerShell"],
		type: "enterprise"
	},
	{
		client: "Optimera",
		roles: ["Application Manager", "Operations Lead", "MS SQL DBA"],
		period: "05.2018 – 03.2020",
		description: "Managed operations across 100+ Windows servers supporting thousands of users. Achieved ~10× faster campaign application performance through SQL optimization. Reduced ERP onboarding from 7 minutes to under 1 minute via API automation. Migrated 30+ servers and built custom PowerShell tooling for complex print infrastructure.",
		technologies: ["MS SQL", "Windows Server", "PowerShell", "ERP"],
		type: "enterprise"
	},
	{
		client: "StrongPoint",
		roles: ["Technical Product Specialist", "Technical Support"],
		period: "11.2015 – 02.2018",
		description: "Bridge between national product management, support, and international development for retail technology. Built POS integrations for Pricer electronic shelf labels. Led technical rollouts across 500+ stores while feeding field insights back to product and dev teams.",
		technologies: ["POS Integration", "Pricer ESL", "Retail Systems", "Technical Support"],
		type: "enterprise"
	},
	{
		client: "KLP",
		roles: ["Support"],
		period: "01.2015 – 06.2015",
		description: "Worked with mobile telephony, onboarding, and internal support for various systems. Also assisted with access management and device configuration for new employees.",
		technologies: ["Mobile Device Management", "Access Control"],
		type: "finance"
	},
	{
		client: "Digitale Gardermoen",
		roles: ["1st & 2nd Line Technician"],
		period: "01.2013 – 12.2014",
		description: "Started as 1st line technician with 90% first-contact resolution rate. Promoted to 2nd line within 6 months. Handled server administration, Active Directory, Group Policy, and PowerShell automation for inter-municipal IT.",
		technologies: ["Active Directory", "GPO", "SCCM", "PowerShell", "Networking"],
		type: "government"
	}
];

const typeColors: Record<string, string> = {
	government: "#22c55e",
	finance: "#3b82f6",
	healthcare: "#ec4899",
	enterprise: "#f59e0b"
};


---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Projects - ${SITE_TITLE}`} description="Professional project history - 13 years of IT infrastructure, cloud architecture, and DevOps experience" />
		<style define:vars={{ }}>
			main {
				width: 100%;
				max-width: 800px;
				margin: 0 auto;
				padding: 2rem 1rem;
			}

			.page-header {
				margin-bottom: 3rem;
			}

			.page-header h1 {
				font-size: 2.5rem;
				margin-bottom: 0.5rem;
			}

			.page-header p {
				color: var(--color-text-muted);
				font-size: 1.1rem;
				max-width: 600px;
			}

			.timeline {
				position: relative;
				padding-left: 2rem;
			}

			.timeline::before {
				content: '';
				position: absolute;
				left: 0;
				top: 0;
				bottom: 0;
				width: 2px;
				background: var(--color-border);
			}

			.project {
				position: relative;
				margin-bottom: 2.5rem;
				padding-bottom: 2.5rem;
				border-bottom: 1px solid var(--color-border);
			}

			.project:last-child {
				border-bottom: none;
				margin-bottom: 0;
				padding-bottom: 0;
			}

			.project::before {
				content: '';
				position: absolute;
				left: -2rem;
				top: 0.5rem;
				width: 12px;
				height: 12px;
				border-radius: 50%;
				background: var(--dot-color, var(--color-accent));
				border: 2px solid var(--color-bg);
				transform: translateX(-5px);
			}

			.project-header {
				display: flex;
				justify-content: space-between;
				align-items: flex-start;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-bottom: 0.75rem;
			}

			.client-name {
				font-size: 1.25rem;
				font-weight: 700;
				color: var(--color-text-main);
				margin: 0;
			}

			.period {
				font-size: 0.85rem;
				color: var(--color-text-muted);
				white-space: nowrap;
			}

			.roles {
				display: flex;
				flex-wrap: wrap;
				gap: 0.5rem;
				margin-bottom: 0.75rem;
			}

			.role {
				font-size: 0.8rem;
				padding: 0.25rem 0.6rem;
				background: var(--color-bg-alt);
				border: 1px solid var(--color-border);
				border-radius: 4px;
				color: var(--color-accent);
				font-weight: 500;
			}

			.description {
				color: var(--color-text-muted);
				line-height: 1.6;
				margin-bottom: 1rem;
				font-size: 0.95rem;
			}

			.technologies {
				display: flex;
				flex-wrap: wrap;
				gap: 0.4rem;
			}

			.tech {
				font-size: 0.75rem;
				padding: 0.2rem 0.5rem;
				background: var(--color-bg-alt);
				border-radius: 3px;
				color: var(--color-text-muted);
			}

			.legend {
				display: flex;
				flex-wrap: wrap;
				gap: 1rem;
				margin-bottom: 2rem;
				padding: 1rem;
				background: var(--color-bg-alt);
				border-radius: 8px;
				font-size: 0.8rem;
			}

			.legend-item {
				display: flex;
				align-items: center;
				gap: 0.4rem;
				color: var(--color-text-muted);
			}

			.legend-dot {
				width: 10px;
				height: 10px;
				border-radius: 50%;
			}

			.stats {
				display: flex;
				gap: 2rem;
				margin-top: 1.5rem;
			}

			.stat {
				display: flex;
				flex-direction: column;
			}

			.stat-value {
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--color-text-main);
			}

			.stat-label {
				font-size: 0.8rem;
				color: var(--color-text-muted);
			}

			.cta {
				margin-top: 3rem;
				padding: 2rem;
				background: var(--color-bg-alt);
				border-radius: 12px;
				border: 1px solid var(--color-border);
				text-align: center;
			}

			.cta h2 {
				font-size: 1.25rem;
				margin: 0 0 0.5rem 0;
				color: var(--color-text-main);
			}

			.cta p {
				color: var(--color-text-muted);
				margin: 0 0 1.25rem 0;
				font-size: 0.95rem;
			}

			.cta-links {
				display: flex;
				gap: 1rem;
				justify-content: center;
				flex-wrap: wrap;
			}

			.cta-link {
				display: inline-flex;
				align-items: center;
				gap: 0.4rem;
				padding: 0.6rem 1.2rem;
				border-radius: 6px;
				font-size: 0.9rem;
				font-weight: 500;
				text-decoration: none;
				transition: all 0.2s ease;
			}

			.cta-link.primary {
				background: var(--color-accent);
				color: white;
			}

			.cta-link.primary:hover {
				filter: brightness(1.1);
			}

			.cta-link.secondary {
				background: var(--color-bg);
				border: 1px solid var(--color-border);
				color: var(--color-text-main);
			}

			.cta-link.secondary:hover {
				border-color: var(--color-accent);
				color: var(--color-accent);
			}

			@media (max-width: 600px) {
				.page-header h1 {
					font-size: 1.75rem;
				}

				.page-header p {
					font-size: 1rem;
				}

				.stats {
					gap: 1.5rem;
				}

				.stat-value {
					font-size: 1.25rem;
				}

				.timeline {
					padding-left: 1.5rem;
				}

				.project::before {
					left: -1.5rem;
					width: 10px;
					height: 10px;
				}

				.project-header {
					flex-direction: column;
				}

				.client-name {
					font-size: 1.1rem;
				}

				.description {
					font-size: 0.9rem;
				}

				.cta {
					padding: 1.5rem;
				}

				.cta h2 {
					font-size: 1.1rem;
				}

				.cta-links {
					flex-direction: column;
				}

				.cta-link {
					justify-content: center;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<div class="page-header">
				<h1>Projects</h1>
				<p>13 years of building, operating, and leading IT infrastructure across public sector, finance, healthcare, and enterprise.</p>
				<div class="stats">
					<div class="stat">
						<span class="stat-value">11</span>
						<span class="stat-label">Clients</span>
					</div>
					<div class="stat">
						<span class="stat-value">13</span>
						<span class="stat-label">Years</span>
					</div>
					<div class="stat">
						<span class="stat-value">4</span>
						<span class="stat-label">Sectors</span>
					</div>
				</div>
			</div>

			<div class="legend">
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.government}`}></span>
					<span>Government</span>
				</div>
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.finance}`}></span>
					<span>Banking & Financial Services</span>
				</div>
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.healthcare}`}></span>
					<span>Healthcare</span>
				</div>
				<div class="legend-item">
					<span class="legend-dot" style={`background: ${typeColors.enterprise}`}></span>
					<span>Enterprise</span>
				</div>
			</div>

			<div class="timeline">
				{projects.map((project) => (
					<div class="project" style={`--dot-color: ${typeColors[project.type]}`}>
						<div class="project-header">
							<h2 class="client-name">{project.client}</h2>
							<span class="period">{project.period}</span>
						</div>
						<div class="roles">
							{project.roles.map((role) => (
								<span class="role">{role}</span>
							))}
						</div>
						<p class="description">{project.description}</p>
						<div class="technologies">
							{project.technologies.map((tech) => (
								<span class="tech">{tech}</span>
							))}
						</div>
					</div>
				))}
			</div>

			<div class="cta">
				<h2>Want to work together?</h2>
				<p>I consult through Nibble.</p>
				<div class="cta-links">
					<a href="mailto:kristian@nibble.as" class="cta-link primary">Get in touch</a>
					<a href="https://nibble.as" target="_blank" rel="noopener noreferrer" class="cta-link secondary">Visit Nibble</a>
				</div>
			</div>
		</main>
		<Footer />
	</body>
</html>
